<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gravity: System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,800">
    <link rel="stylesheet" href="scripts/highlight/styles/github-gist.css">
    <link rel="stylesheet" href="stylesheets/styles.css">
  </head>
  <body>

	<!-- BEGIN NAVIGATION BAR -->
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="http://gravity-lang.org"><img src="images/logo.png" width="32px" height="36px"></a>
		</div>
		<div id="navbar" class="navbar-collapse collapse">
			<ul class="nav navbar-nav navbar-right">
				<li class="active"><a href="index.html">Gravity</a></li>
				<li><a href="internals/index.html">Internals</a></li>
				<li><a href="https://github.com/marcobambini/gravity">GitHub</a></li>
			</ul>
		</div><!--/.nav-collapse -->
	</div>
	</nav>
	<!-- END NAVIGATION BAR -->

	<div class="container body-container">
		<div class="main-content">
			<div class="row">
       	
       		<!-- BEGIN SIDEBAR -->
       		<div class="col-sm-3 border-right section-left">
				<div saveheight="1" class="sidebar-nav">
				<h4>INTRODUCTION</h4>
				<ul>
					<li><a href="index.html"><span>Introduction</span></a></li>
					<li><a href="getting-started.html"><span>Getting Started</span></a></li>
				</ul>
				<h4>LANGUAGE GUIDE</h4>
				<ul>
					<li><a href="syntax.html"><span>Syntax</span></a></li>
					<li><a href="operators.html"><span>Operators</span></a></li>
					<li><a href="types.html"><span>Types</span></a></li>
					<li><a href="lists.html"><span>Lists</span></a></li>
					<li><a href="maps.html"><span>Maps</span></a></li>
					<li><a href="enum.html"><span>Enum</span></a></li>
					<li><a href="functions.html"><span>Functions</span></a></li>
					<li><a href="closures.html"><span>Closures</span></a></li>
					<li><a href="classes.html"><span>Classes</span></a></li>
					<li><a href="control-flow.html"><span>Control Flow</span></a></li>
					<li><a href="loops.html"><span>Loops</span></a></li>
					<li><a href="fibers.html"><span>Fibers</span></a></li>
				</ul>
				<h4>ADVANCED</h4>
				<ul>
					<li><a href="api.html"><span>Embedding API</span></a></li>
					<li><a href="system.html" class="active"><span>System class</span></a></li>
					<li><a href="unit-test.html"><span>Unit test</span></a></li>
					<li><a href="contributing.html"><span>Contributing</span></a></li>
				</ul>
				</div>
			</div>
			<!-- END SIDEBAR -->
			
			<!-- BEGIN CONTENT -->
       		<div class="col-sm-9 border-left section-right">
         	<h1 class="section-header">System</h1><hr>
         				
			<p class="section-content">
				System class is a class registered in every Gravity VM that offers some useful methods and properties.</p>
				<h4 class="section-h4">Print methods</h4>
				<pre><code class="swift">
	func main() {
		// print to stdout and add a newline character
		System.print("Hello World");
		
		// print to stdout without any newline character appended
		System.put("Hello World");
	}
				</code></pre>
				
				<h4 class="section-h4">Garbage collector methods</h4>
				<p>Gravity automatically manage memory for you using a tri-colour marking garbage collector, using the System class the user has the ability to change some of its settings and even disable it when certain performance critical tasks need to be performed:</p>
				<pre><code class="swift">
	func main() {
		// disable GC
		System.gcenabled = false;
		
		// ratio used during automatic recomputation of the new gcthreshold value
		var ratio = System.gcratio;
		
		// minimum GC threshold size
		var minthreshold = System.gcminthreshold;
		
		// memory required to trigger a GC
		var threshold = System.gcthreshold;
		
		// enable GC
		System.gcenabled = true;
	}
				</code></pre>
				
				<h4 class="section-h4">Time related methods</h4>
				<p>There are times where it could be really useful to easily measure how much time is spent in a given task:</p>
				<pre><code class="swift">
	func main() {
		var t1 = System.nanotime();
		perform_my_task();
		var t2 = System.nanotime();
		
		// return elapsed time in ms
		return ((t2-t1) / 1000000.0);
	}
				</code></pre>
				
				<h4 class="section-h4">System Exit</h4>
				<p>There are times where it could be useful to have main() return an
				error code back to your shell:</p>
				<pre><code class="swift">
	func main() {
		foo(); // Do something useful
		System.exit(5);
	}
				</code></pre>
				<p>In your terminal, you can now reference the return code:
				<pre><code class="bash">
	# Returns: 5
	$ echo $?
				</code></pre>
				
				<h4 class="section-h4">Random Number</h4>
				<p>System has a random number generator:</p>
				<pre><code class="swift">
	func main() {
		System.random(1, 10) // Returns an integer between 1 and 10 inclusively
	}
				</code></pre>

         	</div>
         	<!-- END CONTENT -->
         	
       	</div> <!-- /row -->
       </div> <!-- /main-content -->
     </div> <!-- /container -->

	<!-- BEGIN FOOTER -->
	<footer class="navbar-fixed-bottom">
		<div class="container footer">
			<p>
			</p>
		</div>
	</footer>
    <!-- END FOOTER -->
	
	<!-- Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	<!-- Highlights JS -->
    <script src="scripts/highlight/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
	</body>
</html>
